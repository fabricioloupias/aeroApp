<div class="container mt-5">
  <div class="row">
    <div class="col-md-6 col-6">
      <h2>History</h2>
    </div>
    <div class="col-md-6 col-6 text-right">
      <button mat-button color="primary" class="pr-0" [matMenuTriggerFor]="filterProducts">
        Sort
        <mat-icon>keyboard_arrow_down</mat-icon>
      </button>
      <mat-menu #filterProducts="matMenu" xPosition="before">
        <button mat-menu-item (click)="byDate()">
          <span>By date</span>
        </button>
        <button mat-menu-item (click)="sortToLow()">
          <span>Highest to lowest</span>
        </button>
        <button mat-menu-item (click)="sortToHigh()">
          <span>Lowest to highest</span>
        </button>
      </mat-menu>
    </div>
  </div>

  <mat-spinner class="mx-auto" *ngIf="isLoadingProducts" diameter="60"></mat-spinner>
  <div class="row mt-5">
    <div class="col-md-3 col-sm-6 col-12 mb-4"
      *ngFor="let product of products | paginate: { itemsPerPage: 12, currentPage: p } ; index as i;">
      <div class="card">
        <div class="card-header">
          Traded: {{product.createDate | date:medium}}
        </div>
        <div class="card-body">
          <small>{{product.category}}</small>
          <h6>{{product.name}}</h6>
          <img class="img-fluid" src="{{product.img.url}}" alt="">

          <h3 class="mt-3"><img src="../../assets/icons/coin.svg" alt="">{{product.cost}}</h3>
        </div>
      </div>
    </div>
    <div class="col-md-12 text-right mt-4">
      <pagination-controls autoHide="true" responsive="true" (pageChange)="p = $event"></pagination-controls>
    </div>
  </div>
</div>